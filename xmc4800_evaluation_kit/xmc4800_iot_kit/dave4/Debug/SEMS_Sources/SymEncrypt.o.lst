   1              	 .syntax unified
   2              	 .cpu cortex-m4
   3              	 .eabi_attribute 27,3
   4              	 .fpu fpv4-sp-d16
   5              	 .eabi_attribute 20,1
   6              	 .eabi_attribute 21,1
   7              	 .eabi_attribute 23,3
   8              	 .eabi_attribute 24,1
   9              	 .eabi_attribute 25,1
  10              	 .eabi_attribute 26,1
  11              	 .eabi_attribute 30,2
  12              	 .eabi_attribute 34,1
  13              	 .eabi_attribute 18,4
  14              	 .thumb
  15              	 .file "SymEncrypt.c"
  16              	 .text
  17              	.Ltext0:
  18              	 .cfi_sections .debug_frame
  19              	 .section .text.optiga_util_callback,"ax",%progbits
  20              	 .align 2
  21              	 .thumb
  22              	 .thumb_func
  24              	optiga_util_callback:
  25              	.LFB450:
  26              	 .file 1 "../SEMS_Sources/SymEncrypt.c"
   1:../SEMS_Sources/SymEncrypt.c **** #include "optiga/optiga_util.h"
   2:../SEMS_Sources/SymEncrypt.c **** #include "optiga_example.h"
   3:../SEMS_Sources/SymEncrypt.c **** #include <DAVE.h>
   4:../SEMS_Sources/SymEncrypt.c **** 
   5:../SEMS_Sources/SymEncrypt.c **** #include "../SEMS_Headers/SymEncrypt.h"
   6:../SEMS_Sources/SymEncrypt.c **** 
   7:../SEMS_Sources/SymEncrypt.c **** #ifndef OPTIGA_INIT_DEINIT_DONE_EXCLUSIVELY
   8:../SEMS_Sources/SymEncrypt.c **** extern void example_optiga_init(void);
   9:../SEMS_Sources/SymEncrypt.c **** extern void example_optiga_deinit(void);
  10:../SEMS_Sources/SymEncrypt.c **** #endif
  11:../SEMS_Sources/SymEncrypt.c **** 
  12:../SEMS_Sources/SymEncrypt.c **** 
  13:../SEMS_Sources/SymEncrypt.c **** 
  14:../SEMS_Sources/SymEncrypt.c **** 
  15:../SEMS_Sources/SymEncrypt.c **** void stream_enc(uint8_t r1[], uint8_t r2[], uint8_t len)
  16:../SEMS_Sources/SymEncrypt.c **** {
  17:../SEMS_Sources/SymEncrypt.c ****     unsigned int i;
  18:../SEMS_Sources/SymEncrypt.c ****     for (i = 0; i < len; ++i)
  19:../SEMS_Sources/SymEncrypt.c ****     {
  20:../SEMS_Sources/SymEncrypt.c ****         r1[i] = r1[i] ^ r2[i];
  21:../SEMS_Sources/SymEncrypt.c **** 
  22:../SEMS_Sources/SymEncrypt.c ****     }
  23:../SEMS_Sources/SymEncrypt.c **** }
  24:../SEMS_Sources/SymEncrypt.c **** 
  25:../SEMS_Sources/SymEncrypt.c **** uint8_t compare_bytes(uint8_t a[], uint8_t b[], uint8_t len)
  26:../SEMS_Sources/SymEncrypt.c **** {
  27:../SEMS_Sources/SymEncrypt.c **** 	uint8_t is_equal = true;
  28:../SEMS_Sources/SymEncrypt.c **** 	uint8_t i;
  29:../SEMS_Sources/SymEncrypt.c **** 	for (i = 0; i < len; ++i)
  30:../SEMS_Sources/SymEncrypt.c **** 	{
  31:../SEMS_Sources/SymEncrypt.c **** 		if(a[i] != b[i])
  32:../SEMS_Sources/SymEncrypt.c **** 		{
  33:../SEMS_Sources/SymEncrypt.c **** 			is_equal = false; // MISRA single exit
  34:../SEMS_Sources/SymEncrypt.c **** 			break;
  35:../SEMS_Sources/SymEncrypt.c **** 		}
  36:../SEMS_Sources/SymEncrypt.c **** 	}
  37:../SEMS_Sources/SymEncrypt.c **** 	return is_equal;
  38:../SEMS_Sources/SymEncrypt.c **** }
  39:../SEMS_Sources/SymEncrypt.c **** 
  40:../SEMS_Sources/SymEncrypt.c **** 
  41:../SEMS_Sources/SymEncrypt.c **** static volatile optiga_lib_status_t optiga_lib_status;
  42:../SEMS_Sources/SymEncrypt.c **** //lint --e{818} suppress "argument "context" is not used in the sample provided"
  43:../SEMS_Sources/SymEncrypt.c **** static void optiga_util_callback(void * context, optiga_lib_status_t return_status)
  44:../SEMS_Sources/SymEncrypt.c **** {
  27              	 .loc 1 44 0
  28              	 .cfi_startproc
  29              	 
  30              	 
  31              	 
  32              	.LVL0:
  45:../SEMS_Sources/SymEncrypt.c ****     optiga_lib_status = return_status;
  33              	 .loc 1 45 0
  34 0000 014B     	 ldr r3,.L2
  35 0002 1980     	 strh r1,[r3]
  36 0004 7047     	 bx lr
  37              	.L3:
  38 0006 00BF     	 .align 2
  39              	.L2:
  40 0008 00000000 	 .word .LANCHOR0
  41              	 .cfi_endproc
  42              	.LFE450:
  44              	 .section .text.stream_enc,"ax",%progbits
  45              	 .align 2
  46              	 .global stream_enc
  47              	 .thumb
  48              	 .thumb_func
  50              	stream_enc:
  51              	.LFB448:
  16:../SEMS_Sources/SymEncrypt.c ****     unsigned int i;
  52              	 .loc 1 16 0
  53              	 .cfi_startproc
  54              	 
  55              	 
  56              	.LVL1:
  18:../SEMS_Sources/SymEncrypt.c ****     {
  57              	 .loc 1 18 0
  58 0000 002A     	 cmp r2,#0
  59 0002 4CD0     	 beq .L26
  60 0004 031D     	 adds r3,r0,#4
  16:../SEMS_Sources/SymEncrypt.c ****     unsigned int i;
  61              	 .loc 1 16 0
  62 0006 F0B5     	 push {r4,r5,r6,r7,lr}
  63              	.LCFI0:
  64              	 .cfi_def_cfa_offset 20
  65              	 .cfi_offset 4,-20
  66              	 .cfi_offset 5,-16
  67              	 .cfi_offset 6,-12
  68              	 .cfi_offset 7,-8
  69              	 .cfi_offset 14,-4
  70 0008 0C1D     	 adds r4,r1,#4
  71 000a A042     	 cmp r0,r4
  72 000c 38BF     	 it cc
  73 000e 9942     	 cmpcc r1,r3
  74 0010 2CBF     	 ite cs
  75 0012 0123     	 movcs r3,#1
  76 0014 0023     	 movcc r3,#0
  77 0016 062A     	 cmp r2,#6
  78 0018 94BF     	 ite ls
  79 001a 0023     	 movls r3,#0
  80 001c 03F00103 	 andhi r3,r3,#1
  81 0020 83B3     	 cbz r3,.L6
  82 0022 41EA0003 	 orr r3,r1,r0
  83 0026 9B07     	 lsls r3,r3,#30
  84 0028 2CD1     	 bne .L6
  85 002a 141F     	 subs r4,r2,#4
  86 002c A408     	 lsrs r4,r4,#2
  87 002e 551E     	 subs r5,r2,#1
  88 0030 0134     	 adds r4,r4,#1
  89 0032 022D     	 cmp r5,#2
  90 0034 4FEA8403 	 lsl r3,r4,#2
  91 0038 22D9     	 bls .L15
  92 003a A1F1040C 	 sub ip,r1,#4
  18:../SEMS_Sources/SymEncrypt.c ****     {
  93              	 .loc 1 18 0
  94 003e 8646     	 mov lr,r0
  95 0040 0026     	 movs r6,#0
  96              	.LVL2:
  97              	.L8:
  20:../SEMS_Sources/SymEncrypt.c **** 
  98              	 .loc 1 20 0 discriminator 3
  99 0042 DEF80070 	 ldr r7,[lr]
 100 0046 5CF8045F 	 ldr r5,[ip,#4]!
 101 004a 0136     	 adds r6,r6,#1
 102 004c 7D40     	 eors r5,r5,r7
 103 004e A642     	 cmp r6,r4
 104 0050 4EF8045B 	 str r5,[lr],#4
 105 0054 F5D3     	 bcc .L8
 106 0056 9A42     	 cmp r2,r3
 107 0058 1FD0     	 beq .L29
 108              	.L7:
 109              	.LVL3:
  20:../SEMS_Sources/SymEncrypt.c **** 
 110              	 .loc 1 20 0 is_stmt 0
 111 005a CE5C     	 ldrb r6,[r1,r3]
 112 005c C55C     	 ldrb r5,[r0,r3]
  18:../SEMS_Sources/SymEncrypt.c ****     {
 113              	 .loc 1 18 0 is_stmt 1
 114 005e 5C1C     	 adds r4,r3,#1
 115              	.LVL4:
  20:../SEMS_Sources/SymEncrypt.c **** 
 116              	 .loc 1 20 0
 117 0060 7540     	 eors r5,r5,r6
  18:../SEMS_Sources/SymEncrypt.c ****     {
 118              	 .loc 1 18 0
 119 0062 9442     	 cmp r4,r2
  20:../SEMS_Sources/SymEncrypt.c **** 
 120              	 .loc 1 20 0
 121 0064 C554     	 strb r5,[r0,r3]
  18:../SEMS_Sources/SymEncrypt.c ****     {
 122              	 .loc 1 18 0
 123 0066 17D2     	 bcs .L4
  20:../SEMS_Sources/SymEncrypt.c **** 
 124              	 .loc 1 20 0
 125 0068 0E5D     	 ldrb r6,[r1,r4]
 126 006a 055D     	 ldrb r5,[r0,r4]
  18:../SEMS_Sources/SymEncrypt.c ****     {
 127              	 .loc 1 18 0
 128 006c 0233     	 adds r3,r3,#2
  20:../SEMS_Sources/SymEncrypt.c **** 
 129              	 .loc 1 20 0
 130 006e 7540     	 eors r5,r5,r6
  18:../SEMS_Sources/SymEncrypt.c ****     {
 131              	 .loc 1 18 0
 132 0070 9A42     	 cmp r2,r3
  20:../SEMS_Sources/SymEncrypt.c **** 
 133              	 .loc 1 20 0
 134 0072 0555     	 strb r5,[r0,r4]
 135              	.LVL5:
  18:../SEMS_Sources/SymEncrypt.c ****     {
 136              	 .loc 1 18 0
 137 0074 12D9     	 bls .L30
  20:../SEMS_Sources/SymEncrypt.c **** 
 138              	 .loc 1 20 0
 139 0076 C95C     	 ldrb r1,[r1,r3]
 140              	.LVL6:
 141 0078 C25C     	 ldrb r2,[r0,r3]
 142              	.LVL7:
 143 007a 4A40     	 eors r2,r2,r1
 144 007c C254     	 strb r2,[r0,r3]
 145              	.LVL8:
 146 007e F0BD     	 pop {r4,r5,r6,r7,pc}
 147              	.LVL9:
 148              	.L15:
  18:../SEMS_Sources/SymEncrypt.c ****     {
 149              	 .loc 1 18 0
 150 0080 0023     	 movs r3,#0
 151 0082 EAE7     	 b .L7
 152              	.L6:
 153 0084 0244     	 add r2,r2,r0
 154              	.LVL10:
 155 0086 0139     	 subs r1,r1,#1
 156              	.LVL11:
 157              	.L13:
  20:../SEMS_Sources/SymEncrypt.c **** 
 158              	 .loc 1 20 0
 159 0088 0478     	 ldrb r4,[r0]
 160 008a 11F8013F 	 ldrb r3,[r1,#1]!
 161 008e 6340     	 eors r3,r3,r4
 162 0090 00F8013B 	 strb r3,[r0],#1
 163              	.LVL12:
  18:../SEMS_Sources/SymEncrypt.c ****     {
 164              	 .loc 1 18 0
 165 0094 9042     	 cmp r0,r2
 166 0096 F7D1     	 bne .L13
 167              	.LVL13:
 168              	.L4:
 169 0098 F0BD     	 pop {r4,r5,r6,r7,pc}
 170              	.LVL14:
 171              	.L29:
 172 009a F0BD     	 pop {r4,r5,r6,r7,pc}
 173              	.LVL15:
 174              	.L30:
 175 009c F0BD     	 pop {r4,r5,r6,r7,pc}
 176              	.LVL16:
 177              	.L26:
 178              	.LCFI1:
 179              	 .cfi_def_cfa_offset 0
 180              	 .cfi_restore 4
 181              	 .cfi_restore 5
 182              	 .cfi_restore 6
 183              	 .cfi_restore 7
 184              	 .cfi_restore 14
 185 009e 7047     	 bx lr
 186              	 .cfi_endproc
 187              	.LFE448:
 189              	 .section .text.compare_bytes,"ax",%progbits
 190              	 .align 2
 191              	 .global compare_bytes
 192              	 .thumb
 193              	 .thumb_func
 195              	compare_bytes:
 196              	.LFB449:
  26:../SEMS_Sources/SymEncrypt.c **** 	uint8_t is_equal = true;
 197              	 .loc 1 26 0
 198              	 .cfi_startproc
 199              	 
 200              	 
 201              	 
 202              	.LVL17:
  29:../SEMS_Sources/SymEncrypt.c **** 	{
 203              	 .loc 1 29 0
 204 0000 C2B1     	 cbz r2,.L35
  26:../SEMS_Sources/SymEncrypt.c **** 	uint8_t is_equal = true;
 205              	 .loc 1 26 0
 206 0002 10B4     	 push {r4}
 207              	.LCFI2:
 208              	 .cfi_def_cfa_offset 4
 209              	 .cfi_offset 4,-4
  31:../SEMS_Sources/SymEncrypt.c **** 		{
 210              	 .loc 1 31 0
 211 0004 0B78     	 ldrb r3,[r1]
 212 0006 0478     	 ldrb r4,[r0]
 213 0008 9C42     	 cmp r4,r3
 214 000a 0FD1     	 bne .L37
 215 000c 013A     	 subs r2,r2,#1
 216              	.LVL18:
 217 000e 50FA82F2 	 uxtab r2,r0,r2
 218 0012 05E0     	 b .L33
 219              	.LVL19:
 220              	.L34:
 221 0014 10F8014F 	 ldrb r4,[r0,#1]!
 222              	.LVL20:
 223 0018 11F8013F 	 ldrb r3,[r1,#1]!
 224 001c 9C42     	 cmp r4,r3
 225 001e 05D1     	 bne .L37
 226              	.L33:
 227              	.LVL21:
  29:../SEMS_Sources/SymEncrypt.c **** 	{
 228              	 .loc 1 29 0 discriminator 2
 229 0020 9042     	 cmp r0,r2
 230 0022 F7D1     	 bne .L34
  27:../SEMS_Sources/SymEncrypt.c **** 	uint8_t i;
 231              	 .loc 1 27 0
 232 0024 0120     	 movs r0,#1
 233              	.LVL22:
  38:../SEMS_Sources/SymEncrypt.c **** 
 234              	 .loc 1 38 0
 235 0026 5DF8044B 	 ldr r4,[sp],#4
 236              	.LCFI3:
 237              	 .cfi_remember_state
 238              	 .cfi_restore 4
 239              	 .cfi_def_cfa_offset 0
 240 002a 7047     	 bx lr
 241              	.LVL23:
 242              	.L37:
 243              	.LCFI4:
 244              	 .cfi_restore_state
  33:../SEMS_Sources/SymEncrypt.c **** 			break;
 245              	 .loc 1 33 0
 246 002c 0020     	 movs r0,#0
 247              	.LVL24:
  38:../SEMS_Sources/SymEncrypt.c **** 
 248              	 .loc 1 38 0
 249 002e 5DF8044B 	 ldr r4,[sp],#4
 250              	.LCFI5:
 251              	 .cfi_restore 4
 252              	 .cfi_def_cfa_offset 0
 253 0032 7047     	 bx lr
 254              	.LVL25:
 255              	.L35:
  27:../SEMS_Sources/SymEncrypt.c **** 	uint8_t i;
 256              	 .loc 1 27 0
 257 0034 0120     	 movs r0,#1
 258              	.LVL26:
  38:../SEMS_Sources/SymEncrypt.c **** 
 259              	 .loc 1 38 0
 260 0036 7047     	 bx lr
 261              	 .cfi_endproc
 262              	.LFE449:
 264              	 .section .text.optiga_util_write_shared_key,"ax",%progbits
 265              	 .align 2
 266              	 .global optiga_util_write_shared_key
 267              	 .thumb
 268              	 .thumb_func
 270              	optiga_util_write_shared_key:
 271              	.LFB451:
  46:../SEMS_Sources/SymEncrypt.c ****     if (NULL != context)
  47:../SEMS_Sources/SymEncrypt.c ****     {
  48:../SEMS_Sources/SymEncrypt.c ****         // callback to upper layer here
  49:../SEMS_Sources/SymEncrypt.c ****     }
  50:../SEMS_Sources/SymEncrypt.c **** }
  51:../SEMS_Sources/SymEncrypt.c **** 
  52:../SEMS_Sources/SymEncrypt.c **** static volatile optiga_lib_status_t optiga_lib_status;
  53:../SEMS_Sources/SymEncrypt.c **** 
  54:../SEMS_Sources/SymEncrypt.c **** 
  55:../SEMS_Sources/SymEncrypt.c **** 
  56:../SEMS_Sources/SymEncrypt.c **** void optiga_util_write_shared_key(uint16_t optiga_oid, const uint8_t key[], uint16_t bytes_to_write
  57:../SEMS_Sources/SymEncrypt.c **** {
 272              	 .loc 1 57 0
 273              	 .cfi_startproc
 274              	 
 275              	 
 276              	.LVL27:
 277 0000 2DE9F041 	 push {r4,r5,r6,r7,r8,lr}
 278              	.LCFI6:
 279              	 .cfi_def_cfa_offset 24
 280              	 .cfi_offset 4,-24
 281              	 .cfi_offset 5,-20
 282              	 .cfi_offset 6,-16
 283              	 .cfi_offset 7,-12
 284              	 .cfi_offset 8,-8
 285              	 .cfi_offset 14,-4
 286 0004 82B0     	 sub sp,sp,#8
 287              	.LCFI7:
 288              	 .cfi_def_cfa_offset 32
 289              	 .loc 1 57 0
 290 0006 0646     	 mov r6,r0
 291 0008 8846     	 mov r8,r1
 292 000a 1746     	 mov r7,r2
  58:../SEMS_Sources/SymEncrypt.c ****     uint16_t offset = 0;
  59:../SEMS_Sources/SymEncrypt.c **** 
  60:../SEMS_Sources/SymEncrypt.c ****     optiga_lib_status_t return_status = !OPTIGA_LIB_SUCCESS;
  61:../SEMS_Sources/SymEncrypt.c ****     optiga_util_t * me = NULL;
  62:../SEMS_Sources/SymEncrypt.c **** 
  63:../SEMS_Sources/SymEncrypt.c ****     do
  64:../SEMS_Sources/SymEncrypt.c ****     {
  65:../SEMS_Sources/SymEncrypt.c **** 
  66:../SEMS_Sources/SymEncrypt.c **** #ifndef OPTIGA_INIT_DEINIT_DONE_EXCLUSIVELY
  67:../SEMS_Sources/SymEncrypt.c ****         /**
  68:../SEMS_Sources/SymEncrypt.c ****          * Open the application on OPTIGA which is a precondition to perform any other operations
  69:../SEMS_Sources/SymEncrypt.c ****          * using optiga_util_open_application
  70:../SEMS_Sources/SymEncrypt.c ****          */
  71:../SEMS_Sources/SymEncrypt.c ****         example_optiga_init();
 293              	 .loc 1 71 0
 294 000c FFF7FEFF 	 bl example_optiga_init
 295              	.LVL28:
  72:../SEMS_Sources/SymEncrypt.c **** #endif //OPTIGA_INIT_DEINIT_DONE_EXCLUSIVELY
  73:../SEMS_Sources/SymEncrypt.c **** 
  74:../SEMS_Sources/SymEncrypt.c **** 
  75:../SEMS_Sources/SymEncrypt.c **** 
  76:../SEMS_Sources/SymEncrypt.c **** 
  77:../SEMS_Sources/SymEncrypt.c ****         me = optiga_util_create(0, optiga_util_callback, NULL);
 296              	 .loc 1 77 0
 297 0010 0020     	 movs r0,#0
 298 0012 0246     	 mov r2,r0
 299 0014 1449     	 ldr r1,.L49
 300 0016 FFF7FEFF 	 bl optiga_util_create
 301              	.LVL29:
  78:../SEMS_Sources/SymEncrypt.c ****         if (NULL == me)
 302              	 .loc 1 78 0
 303 001a F8B1     	 cbz r0,.L40
  79:../SEMS_Sources/SymEncrypt.c ****         {
  80:../SEMS_Sources/SymEncrypt.c ****             break;
  81:../SEMS_Sources/SymEncrypt.c ****         }
  82:../SEMS_Sources/SymEncrypt.c **** 
  83:../SEMS_Sources/SymEncrypt.c **** 
  84:../SEMS_Sources/SymEncrypt.c **** //        OPTIGA_UTIL_SET_COMMS_PROTECTION_LEVEL(me, OPTIGA_COMMS_NO_PROTECTION);
  85:../SEMS_Sources/SymEncrypt.c **** 
  86:../SEMS_Sources/SymEncrypt.c ****         optiga_lib_status = OPTIGA_LIB_BUSY;
 304              	 .loc 1 86 0
 305 001c 134C     	 ldr r4,.L49+4
  87:../SEMS_Sources/SymEncrypt.c **** 
  88:../SEMS_Sources/SymEncrypt.c **** 
  89:../SEMS_Sources/SymEncrypt.c ****         return_status = optiga_util_write_data(me,
 306              	 .loc 1 89 0
 307 001e CDF80080 	 str r8,[sp]
 308 0022 3146     	 mov r1,r6
 309 0024 0197     	 str r7,[sp,#4]
  86:../SEMS_Sources/SymEncrypt.c **** 
 310              	 .loc 1 86 0
 311 0026 0126     	 movs r6,#1
 312              	 .loc 1 89 0
 313 0028 4022     	 movs r2,#64
 314 002a 0023     	 movs r3,#0
 315 002c 0546     	 mov r5,r0
  86:../SEMS_Sources/SymEncrypt.c **** 
 316              	 .loc 1 86 0
 317 002e 2680     	 strh r6,[r4]
 318              	 .loc 1 89 0
 319 0030 FFF7FEFF 	 bl optiga_util_write_data
 320              	.LVL30:
  90:../SEMS_Sources/SymEncrypt.c ****                                                optiga_oid,
  91:../SEMS_Sources/SymEncrypt.c ****                                                OPTIGA_UTIL_ERASE_AND_WRITE,
  92:../SEMS_Sources/SymEncrypt.c ****                                                offset,
  93:../SEMS_Sources/SymEncrypt.c ****                                                key,
  94:../SEMS_Sources/SymEncrypt.c **** 											   bytes_to_write);
  95:../SEMS_Sources/SymEncrypt.c **** 
  96:../SEMS_Sources/SymEncrypt.c ****         WAIT_AND_CHECK_STATUS(return_status, optiga_lib_status);
 321              	 .loc 1 96 0
 322 0034 38B1     	 cbz r0,.L42
 323              	.LVL31:
 324              	.L41:
  97:../SEMS_Sources/SymEncrypt.c **** 
  98:../SEMS_Sources/SymEncrypt.c **** 
  99:../SEMS_Sources/SymEncrypt.c ****         return_status = OPTIGA_LIB_SUCCESS;
 100:../SEMS_Sources/SymEncrypt.c **** 
 101:../SEMS_Sources/SymEncrypt.c ****     } while (FALSE);
 102:../SEMS_Sources/SymEncrypt.c **** 
 103:../SEMS_Sources/SymEncrypt.c **** 
 104:../SEMS_Sources/SymEncrypt.c **** #ifndef OPTIGA_INIT_DEINIT_DONE_EXCLUSIVELY
 105:../SEMS_Sources/SymEncrypt.c ****     /**
 106:../SEMS_Sources/SymEncrypt.c ****      * Close the application on OPTIGA after all the operations are executed
 107:../SEMS_Sources/SymEncrypt.c ****      * using optiga_util_close_application
 108:../SEMS_Sources/SymEncrypt.c ****      */
 109:../SEMS_Sources/SymEncrypt.c ****     example_optiga_deinit();
 325              	 .loc 1 109 0
 326 0036 FFF7FEFF 	 bl example_optiga_deinit
 327              	.LVL32:
 110:../SEMS_Sources/SymEncrypt.c **** #endif //OPTIGA_INIT_DEINIT_DONE_EXCLUSIVELY
 111:../SEMS_Sources/SymEncrypt.c **** 
 112:../SEMS_Sources/SymEncrypt.c **** 
 113:../SEMS_Sources/SymEncrypt.c ****     if (me)
 114:../SEMS_Sources/SymEncrypt.c ****     {
 115:../SEMS_Sources/SymEncrypt.c ****         //Destroy the instance after the completion of usecase if not required.
 116:../SEMS_Sources/SymEncrypt.c ****         return_status = optiga_util_destroy(me);
 328              	 .loc 1 116 0
 329 003a 2846     	 mov r0,r5
 117:../SEMS_Sources/SymEncrypt.c ****         if(OPTIGA_LIB_SUCCESS != return_status)
 118:../SEMS_Sources/SymEncrypt.c ****         {
 119:../SEMS_Sources/SymEncrypt.c ****             //lint --e{774} suppress This is a generic macro
 120:../SEMS_Sources/SymEncrypt.c **** 
 121:../SEMS_Sources/SymEncrypt.c ****         }
 122:../SEMS_Sources/SymEncrypt.c ****     }
 123:../SEMS_Sources/SymEncrypt.c **** 
 124:../SEMS_Sources/SymEncrypt.c **** }
 330              	 .loc 1 124 0
 331 003c 02B0     	 add sp,sp,#8
 332              	.LCFI8:
 333              	 .cfi_remember_state
 334              	 .cfi_def_cfa_offset 24
 335              	 
 336 003e BDE8F041 	 pop {r4,r5,r6,r7,r8,lr}
 337              	.LCFI9:
 338              	 .cfi_restore 14
 339              	 .cfi_restore 8
 340              	 .cfi_restore 7
 341              	 .cfi_restore 6
 342              	 .cfi_restore 5
 343              	 .cfi_restore 4
 344              	 .cfi_def_cfa_offset 0
 345              	.LVL33:
 116:../SEMS_Sources/SymEncrypt.c ****         if(OPTIGA_LIB_SUCCESS != return_status)
 346              	 .loc 1 116 0
 347 0042 FFF7FEBF 	 b optiga_util_destroy
 348              	.LVL34:
 349              	.L42:
 350              	.LCFI10:
 351              	 .cfi_restore_state
  96:../SEMS_Sources/SymEncrypt.c **** 
 352              	 .loc 1 96 0 discriminator 1
 353 0046 2388     	 ldrh r3,[r4]
 354 0048 084A     	 ldr r2,.L49+4
 355 004a 9BB2     	 uxth r3,r3
 356 004c 012B     	 cmp r3,#1
 357 004e FAD0     	 beq .L42
  96:../SEMS_Sources/SymEncrypt.c **** 
 358              	 .loc 1 96 0 is_stmt 0 discriminator 2
 359 0050 1388     	 ldrh r3,[r2]
 360 0052 9BB2     	 uxth r3,r3
 361 0054 002B     	 cmp r3,#0
 362 0056 EED0     	 beq .L41
  96:../SEMS_Sources/SymEncrypt.c **** 
 363              	 .loc 1 96 0 discriminator 3
 364 0058 1388     	 ldrh r3,[r2]
 365              	.LVL35:
 366 005a ECE7     	 b .L41
 367              	.LVL36:
 368              	.L40:
 369              	 .loc 1 124 0 is_stmt 1
 370 005c 02B0     	 add sp,sp,#8
 371              	.LCFI11:
 372              	 .cfi_def_cfa_offset 24
 373              	 
 374 005e BDE8F041 	 pop {r4,r5,r6,r7,r8,lr}
 375              	.LCFI12:
 376              	 .cfi_restore 14
 377              	 .cfi_restore 8
 378              	 .cfi_restore 7
 379              	 .cfi_restore 6
 380              	 .cfi_restore 5
 381              	 .cfi_restore 4
 382              	 .cfi_def_cfa_offset 0
 383              	.LVL37:
 109:../SEMS_Sources/SymEncrypt.c **** #endif //OPTIGA_INIT_DEINIT_DONE_EXCLUSIVELY
 384              	 .loc 1 109 0
 385 0062 FFF7FEBF 	 b example_optiga_deinit
 386              	.LVL38:
 387              	.L50:
 388 0066 00BF     	 .align 2
 389              	.L49:
 390 0068 00000000 	 .word optiga_util_callback
 391 006c 00000000 	 .word .LANCHOR0
 392              	 .cfi_endproc
 393              	.LFE451:
 395              	 .section .text.optiga_util_read_shared_key,"ax",%progbits
 396              	 .align 2
 397              	 .global optiga_util_read_shared_key
 398              	 .thumb
 399              	 .thumb_func
 401              	optiga_util_read_shared_key:
 402              	.LFB452:
 125:../SEMS_Sources/SymEncrypt.c **** 
 126:../SEMS_Sources/SymEncrypt.c **** 
 127:../SEMS_Sources/SymEncrypt.c **** /**
 128:../SEMS_Sources/SymEncrypt.c ****  * The below example demonstrates read data/metadata functionalities
 129:../SEMS_Sources/SymEncrypt.c ****  *
 130:../SEMS_Sources/SymEncrypt.c ****  * Example for #optiga_util_read_data and #optiga_util_read_metadata
 131:../SEMS_Sources/SymEncrypt.c ****  *
 132:../SEMS_Sources/SymEncrypt.c ****  */
 133:../SEMS_Sources/SymEncrypt.c **** void optiga_util_read_shared_key(uint16_t optiga_oid, uint8_t read_data_buffer[], uint16_t bytes_to
 134:../SEMS_Sources/SymEncrypt.c **** {
 403              	 .loc 1 134 0
 404              	 .cfi_startproc
 405              	 
 406              	 
 407              	.LVL39:
 408 0000 F0B5     	 push {r4,r5,r6,r7,lr}
 409              	.LCFI13:
 410              	 .cfi_def_cfa_offset 20
 411              	 .cfi_offset 4,-20
 412              	 .cfi_offset 5,-16
 413              	 .cfi_offset 6,-12
 414              	 .cfi_offset 7,-8
 415              	 .cfi_offset 14,-4
 416 0002 85B0     	 sub sp,sp,#20
 417              	.LCFI14:
 418              	 .cfi_def_cfa_offset 40
 419              	 .loc 1 134 0
 420 0004 0746     	 mov r7,r0
 421 0006 0E46     	 mov r6,r1
 422 0008 ADF80E20 	 strh r2,[sp,#14]
 135:../SEMS_Sources/SymEncrypt.c ****     uint16_t offset = 0x00;
 136:../SEMS_Sources/SymEncrypt.c ****     optiga_lib_status_t return_status = !OPTIGA_LIB_SUCCESS;
 137:../SEMS_Sources/SymEncrypt.c ****     optiga_util_t * me = NULL;
 138:../SEMS_Sources/SymEncrypt.c **** 
 139:../SEMS_Sources/SymEncrypt.c ****     do
 140:../SEMS_Sources/SymEncrypt.c ****     {
 141:../SEMS_Sources/SymEncrypt.c **** 
 142:../SEMS_Sources/SymEncrypt.c **** #ifndef OPTIGA_INIT_DEINIT_DONE_EXCLUSIVELY
 143:../SEMS_Sources/SymEncrypt.c ****         /**
 144:../SEMS_Sources/SymEncrypt.c ****          * Open the application on OPTIGA which is a precondition to perform any other operations
 145:../SEMS_Sources/SymEncrypt.c ****          * using optiga_util_open_application
 146:../SEMS_Sources/SymEncrypt.c ****          */
 147:../SEMS_Sources/SymEncrypt.c ****         example_optiga_init();
 423              	 .loc 1 147 0
 424 000c FFF7FEFF 	 bl example_optiga_init
 425              	.LVL40:
 148:../SEMS_Sources/SymEncrypt.c **** #endif //OPTIGA_INIT_DEINIT_DONE_EXCLUSIVELY
 149:../SEMS_Sources/SymEncrypt.c **** 
 150:../SEMS_Sources/SymEncrypt.c **** 
 151:../SEMS_Sources/SymEncrypt.c ****         /**
 152:../SEMS_Sources/SymEncrypt.c ****          * 1. Create OPTIGA Util Instance
 153:../SEMS_Sources/SymEncrypt.c ****          */
 154:../SEMS_Sources/SymEncrypt.c ****         me = optiga_util_create(0, optiga_util_callback, NULL);
 426              	 .loc 1 154 0
 427 0010 0020     	 movs r0,#0
 428 0012 0246     	 mov r2,r0
 429 0014 1349     	 ldr r1,.L62
 430 0016 FFF7FEFF 	 bl optiga_util_create
 431              	.LVL41:
 155:../SEMS_Sources/SymEncrypt.c ****         if (NULL == me)
 432              	 .loc 1 155 0
 433 001a F0B1     	 cbz r0,.L52
 156:../SEMS_Sources/SymEncrypt.c ****         {
 157:../SEMS_Sources/SymEncrypt.c ****             break;
 158:../SEMS_Sources/SymEncrypt.c ****         }
 159:../SEMS_Sources/SymEncrypt.c **** 
 160:../SEMS_Sources/SymEncrypt.c **** 
 161:../SEMS_Sources/SymEncrypt.c ****         // OPTIGA Comms Shielded connection settings to enable the protection
 162:../SEMS_Sources/SymEncrypt.c **** //        OPTIGA_UTIL_SET_COMMS_PROTOCOL_VERSION(me, OPTIGA_COMMS_PROTOCOL_VERSION_PRE_SHARED_SECRE
 163:../SEMS_Sources/SymEncrypt.c **** //        OPTIGA_UTIL_SET_COMMS_PROTECTION_LEVEL(me, OPTIGA_COMMS_RESPONSE_PROTECTION);
 164:../SEMS_Sources/SymEncrypt.c **** 
 165:../SEMS_Sources/SymEncrypt.c ****         /**
 166:../SEMS_Sources/SymEncrypt.c ****          * 2. Read data from a data object (e.g. certificate data object)
 167:../SEMS_Sources/SymEncrypt.c ****          *    using optiga_util_read_data.
 168:../SEMS_Sources/SymEncrypt.c ****          */
 169:../SEMS_Sources/SymEncrypt.c ****         optiga_lib_status = OPTIGA_LIB_BUSY;
 170:../SEMS_Sources/SymEncrypt.c **** 
 171:../SEMS_Sources/SymEncrypt.c **** 
 172:../SEMS_Sources/SymEncrypt.c **** 
 173:../SEMS_Sources/SymEncrypt.c ****         return_status = optiga_util_read_data(me,
 434              	 .loc 1 173 0
 435 001c 0DF10E02 	 add r2,sp,#14
 436              	.LVL42:
 169:../SEMS_Sources/SymEncrypt.c **** 
 437              	 .loc 1 169 0
 438 0020 114C     	 ldr r4,.L62+4
 439              	 .loc 1 173 0
 440 0022 0092     	 str r2,[sp]
 441 0024 3346     	 mov r3,r6
 442 0026 3946     	 mov r1,r7
 169:../SEMS_Sources/SymEncrypt.c **** 
 443              	 .loc 1 169 0
 444 0028 0126     	 movs r6,#1
 445              	.LVL43:
 446              	 .loc 1 173 0
 447 002a 0022     	 movs r2,#0
 448              	.LVL44:
 449 002c 0546     	 mov r5,r0
 169:../SEMS_Sources/SymEncrypt.c **** 
 450              	 .loc 1 169 0
 451 002e 2680     	 strh r6,[r4]
 452              	 .loc 1 173 0
 453 0030 FFF7FEFF 	 bl optiga_util_read_data
 454              	.LVL45:
 174:../SEMS_Sources/SymEncrypt.c ****                                               optiga_oid,
 175:../SEMS_Sources/SymEncrypt.c ****                                               offset,
 176:../SEMS_Sources/SymEncrypt.c ****                                               read_data_buffer,
 177:../SEMS_Sources/SymEncrypt.c ****                                               &bytes_to_read);
 178:../SEMS_Sources/SymEncrypt.c **** 
 179:../SEMS_Sources/SymEncrypt.c ****         WAIT_AND_CHECK_STATUS(return_status, optiga_lib_status);
 455              	 .loc 1 179 0
 456 0034 30B1     	 cbz r0,.L54
 457              	.LVL46:
 458              	.L53:
 180:../SEMS_Sources/SymEncrypt.c **** 
 181:../SEMS_Sources/SymEncrypt.c **** 
 182:../SEMS_Sources/SymEncrypt.c ****         return_status = OPTIGA_LIB_SUCCESS;
 183:../SEMS_Sources/SymEncrypt.c ****     } while (FALSE);
 184:../SEMS_Sources/SymEncrypt.c **** 
 185:../SEMS_Sources/SymEncrypt.c **** 
 186:../SEMS_Sources/SymEncrypt.c **** #ifndef OPTIGA_INIT_DEINIT_DONE_EXCLUSIVELY
 187:../SEMS_Sources/SymEncrypt.c ****     /**
 188:../SEMS_Sources/SymEncrypt.c ****      * Close the application on OPTIGA after all the operations are executed
 189:../SEMS_Sources/SymEncrypt.c ****      * using optiga_util_close_application
 190:../SEMS_Sources/SymEncrypt.c ****      */
 191:../SEMS_Sources/SymEncrypt.c ****     example_optiga_deinit();
 459              	 .loc 1 191 0
 460 0036 FFF7FEFF 	 bl example_optiga_deinit
 461              	.LVL47:
 192:../SEMS_Sources/SymEncrypt.c **** #endif //OPTIGA_INIT_DEINIT_DONE_EXCLUSIVELY
 193:../SEMS_Sources/SymEncrypt.c **** 
 194:../SEMS_Sources/SymEncrypt.c **** 
 195:../SEMS_Sources/SymEncrypt.c ****     if (me)
 196:../SEMS_Sources/SymEncrypt.c ****     {
 197:../SEMS_Sources/SymEncrypt.c ****         //Destroy the instance after the completion of usecase if not required.
 198:../SEMS_Sources/SymEncrypt.c ****         return_status = optiga_util_destroy(me);
 462              	 .loc 1 198 0
 463 003a 2846     	 mov r0,r5
 464 003c FFF7FEFF 	 bl optiga_util_destroy
 465              	.LVL48:
 199:../SEMS_Sources/SymEncrypt.c ****     }
 200:../SEMS_Sources/SymEncrypt.c **** }
 466              	 .loc 1 200 0
 467 0040 05B0     	 add sp,sp,#20
 468              	.LCFI15:
 469              	 .cfi_remember_state
 470              	 .cfi_def_cfa_offset 20
 471              	 
 472 0042 F0BD     	 pop {r4,r5,r6,r7,pc}
 473              	.LVL49:
 474              	.L54:
 475              	.LCFI16:
 476              	 .cfi_restore_state
 179:../SEMS_Sources/SymEncrypt.c **** 
 477              	 .loc 1 179 0 discriminator 1
 478 0044 2388     	 ldrh r3,[r4]
 479 0046 084A     	 ldr r2,.L62+4
 480 0048 9BB2     	 uxth r3,r3
 481 004a 012B     	 cmp r3,#1
 482 004c FAD0     	 beq .L54
 179:../SEMS_Sources/SymEncrypt.c **** 
 483              	 .loc 1 179 0 is_stmt 0 discriminator 2
 484 004e 1388     	 ldrh r3,[r2]
 485 0050 9BB2     	 uxth r3,r3
 486 0052 002B     	 cmp r3,#0
 487 0054 EFD0     	 beq .L53
 179:../SEMS_Sources/SymEncrypt.c **** 
 488              	 .loc 1 179 0 discriminator 3
 489 0056 1388     	 ldrh r3,[r2]
 490              	.LVL50:
 491 0058 EDE7     	 b .L53
 492              	.LVL51:
 493              	.L52:
 191:../SEMS_Sources/SymEncrypt.c **** #endif //OPTIGA_INIT_DEINIT_DONE_EXCLUSIVELY
 494              	 .loc 1 191 0 is_stmt 1
 495 005a FFF7FEFF 	 bl example_optiga_deinit
 496              	.LVL52:
 497              	 .loc 1 200 0
 498 005e 05B0     	 add sp,sp,#20
 499              	.LCFI17:
 500              	 .cfi_def_cfa_offset 20
 501              	 
 502 0060 F0BD     	 pop {r4,r5,r6,r7,pc}
 503              	.LVL53:
 504              	.L63:
 505 0062 00BF     	 .align 2
 506              	.L62:
 507 0064 00000000 	 .word optiga_util_callback
 508 0068 00000000 	 .word .LANCHOR0
 509              	 .cfi_endproc
 510              	.LFE452:
 512              	 .section .bss.optiga_lib_status,"aw",%nobits
 513              	 .align 1
 514              	 .set .LANCHOR0,.+0
 517              	optiga_lib_status:
 518 0000 0000     	 .space 2
 519              	 .text
 520              	.Letext0:
 521              	 .file 2 "c:\\infineon\\tools\\dave ide\\4.5.0.202105191637\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\machine\\_default_types.h"
 522              	 .file 3 "c:\\infineon\\tools\\dave ide\\4.5.0.202105191637\\eclipse\\arm-gcc-49\\arm-none-eabi\\include\\stdint.h"
 523              	 .file 4 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/optiga-trust-m/optiga/include/optiga/common/optiga_lib_types.h"
 524              	 .file 5 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/optiga-trust-m/optiga/include/optiga/common/optiga_lib_common.h"
 525              	 .file 6 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/optiga-trust-m/optiga/include/optiga/cmd/optiga_cmd.h"
 526              	 .file 7 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/optiga-trust-m/optiga/include/optiga/optiga_util.h"
 527              	 .file 8 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/xmc4800_iot_kit/common/Libraries/CMSIS/Infineon/XMC4800_series/Include/XMC4800.h"
 528              	 .file 9 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/xmc4800_iot_kit/common/Libraries/XMCLib/inc/xmc_usic.h"
 529              	 .file 10 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/xmc4800_iot_kit/common/Libraries/XMCLib/inc/xmc_usbd_regs.h"
 530              	 .file 11 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/xmc4800_iot_kit/common/Libraries/XMCLib/inc/xmc_usbd.h"
 531              	 .file 12 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/xmc4800_iot_kit/common/Dave/Generated/USBD/usbd.h"
 532              	 .file 13 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/xmc4800_iot_kit/common/Libraries/CMSIS/Include/core_cm4.h"
 533              	 .file 14 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/xmc4800_iot_kit/common/Libraries/CMSIS/Infineon/XMC4800_series/Include/system_XMC4800.h"
 534              	 .file 15 "D:/School/diseratie/SEMS/xmc4800_evaluation_kit/xmc4800_iot_kit/common/Dave/Generated/USBD/usbd_extern.h"
DEFINED SYMBOLS
                            *ABS*:00000000 SymEncrypt.c
    {standard input}:20     .text.optiga_util_callback:00000000 $t
    {standard input}:24     .text.optiga_util_callback:00000000 optiga_util_callback
    {standard input}:40     .text.optiga_util_callback:00000008 $d
    {standard input}:45     .text.stream_enc:00000000 $t
    {standard input}:50     .text.stream_enc:00000000 stream_enc
    {standard input}:190    .text.compare_bytes:00000000 $t
    {standard input}:195    .text.compare_bytes:00000000 compare_bytes
    {standard input}:265    .text.optiga_util_write_shared_key:00000000 $t
    {standard input}:270    .text.optiga_util_write_shared_key:00000000 optiga_util_write_shared_key
    {standard input}:390    .text.optiga_util_write_shared_key:00000068 $d
    {standard input}:396    .text.optiga_util_read_shared_key:00000000 $t
    {standard input}:401    .text.optiga_util_read_shared_key:00000000 optiga_util_read_shared_key
    {standard input}:507    .text.optiga_util_read_shared_key:00000064 $d
    {standard input}:513    .bss.optiga_lib_status:00000000 $d
    {standard input}:517    .bss.optiga_lib_status:00000000 optiga_lib_status
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
example_optiga_init
optiga_util_create
optiga_util_write_data
example_optiga_deinit
optiga_util_destroy
optiga_util_read_data
